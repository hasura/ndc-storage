---
kind: Command
version: v1
definition:
  name: StorageObjects
  outputType: StorageObjectListResults!
  arguments:
    - name: hierarchy
      type: Boolean
    - name: maxResults
      type: Int32
    - name: startAfter
      type: String
    - name: where
      type: StorageObjectFilterBoolExp
    - name: bucket
      type: String
    - name: clientId
      type: StorageClientId
    - name: prefix
      type: String
  source:
    dataConnectorName: storage
    dataConnectorCommand:
      function: storageObjects
  graphql:
    rootFieldName: storageObjects
    rootFieldKind: Query
  description: lists objects in a bucket.

---
kind: CommandPermissions
version: v1
definition:
  commandName: StorageObjects
  permissions:
    - role: admin
      allowExecution: true

